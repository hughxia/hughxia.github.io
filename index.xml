<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hugh's Blog</title><link>https://hughxia.github.io/</link><description>Recent content on Hugh's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 11 Jul 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://hughxia.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>åŸºäºGithubæ­å»ºåšå®¢æŒ‡å—</title><link>https://hughxia.github.io/p/github-based-blog-guide/</link><pubDate>Sun, 11 Jul 2021 00:16:41 +0800</pubDate><guid>https://hughxia.github.io/p/github-based-blog-guide/</guid><description>&lt;img src="https://hughxia.github.io/p/github-based-blog-guide/github.png" alt="Featured image of post åŸºäºGithubæ­å»ºåšå®¢æŒ‡å—" />&lt;h2 id="å‰è¨€">å‰è¨€&lt;/h2>
&lt;p>æœ¬æ–‡ä¼šä»‹ç»å¦‚ä½•åŸºäº Github Pages + Github Actions + Hugo æ­å»ºä¸ªäººåšå®¢ç½‘ç«™ï¼Œå®ƒä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p>
&lt;ul>
&lt;li>å…è´¹æ‰˜ç®¡&lt;/li>
&lt;li>ç‰ˆæœ¬æ§åˆ¶&lt;/li>
&lt;li>å…¨è‡ªåŠ¨éƒ¨ç½²&lt;/li>
&lt;li>Markdownè¯­æ³•æ”¯æŒ&lt;/li>
&lt;li>ä¸ªæ€§åŒ–ä¸»é¢˜&lt;/li>
&lt;li>æ”¯æŒè‡ªå®šä¹‰åŸŸå&lt;/li>
&lt;/ul>
&lt;h3 id="å‰ç½®çŸ¥è¯†">å‰ç½®çŸ¥è¯†&lt;/h3>
&lt;ul>
&lt;li>&lt;a class="link" href="https://git-scm.com" target="_blank" rel="noopener"
>Git&lt;/a>ï¼ˆç†Ÿæ‚‰ï¼‰&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com" target="_blank" rel="noopener"
>GitHub&lt;/a>ï¼ˆäº†è§£ï¼‰&lt;/li>
&lt;li>Markdownï¼ˆäº†è§£ï¼‰&lt;/li>
&lt;li>HTML&amp;amp;CSSï¼ˆäº†è§£ï¼‰&lt;/li>
&lt;/ul>
&lt;h3 id="å¿…å¤‡æ¡ä»¶">å¿…å¤‡æ¡ä»¶&lt;/h3>
&lt;ul>
&lt;li>Github è´¦æˆ·&lt;/li>
&lt;/ul>
&lt;p>æ•ˆæœå±•ç¤ºï¼š&lt;a class="link" href="https://hughxia.github.io/" target="_blank" rel="noopener"
>https://hughxia.github.io&lt;/a>&lt;/p>
&lt;p>é¡¹ç›®åœ°å€ï¼š&lt;a class="link" href="https://github.com/hughxia/hughxia.github.io" target="_blank" rel="noopener"
>https://github.com/hughxia/hughxia.github.io&lt;/a>&lt;/p>
&lt;h2 id="åˆ›å»º-github-pages-ç«™ç‚¹">åˆ›å»º GitHub Pages ç«™ç‚¹&lt;/h2>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://pages.github.com/" target="_blank" rel="noopener"
>Github Pages&lt;/a> é€‚ç”¨äºå…·æœ‰ GitHub Free å’Œç»„ç»‡çš„ GitHub Free çš„å…¬å…±ä»“åº“ï¼Œä»¥åŠå…·æœ‰ GitHub Proã€GitHub Teamã€GitHub Enterprise Cloud å’Œ GitHub Enterprise Server çš„å…¬å…±å’Œç§æœ‰ä»“åº“ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>Github Pages å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä»ç‰¹å®šçš„ GitHub Repo ç”Ÿæˆé™æ€ç«™ç‚¹ã€‚è¿™é‡Œæˆ‘ä»¬å‚ç…§&lt;a class="link" href="https://docs.github.com/cn/pages/getting-started-with-github-pages/creating-a-github-pages-site" target="_blank" rel="noopener"
>Github Pages å®˜æ–¹æ–‡æ¡£&lt;/a>åˆ›å»ºå±äºä½ çš„ä¸ªäººç«™ç‚¹ã€‚&lt;/p>
&lt;h3 id="åˆ›å»ºä»“åº“">åˆ›å»ºä»“åº“&lt;/h3>
&lt;p>é¦–å…ˆæ–°å»ºä¸€ä¸ª Repositoryï¼ŒRepository name æ ¹æ® Owner çš„ä¸åŒï¼Œåå­—è¦æ±‚åˆ†åˆ«ä¸º &lt;code>&amp;lt;user&amp;gt;.github.io&lt;/code> æˆ– &lt;code>&amp;lt;organization&amp;gt;.github.io&lt;/code> æ ¼å¼ã€‚å› ä¸ºæ˜¯ä¸ªäººåšå®¢ï¼Œæˆ‘ä»¬ä½¿ç”¨è‡ªå·±çš„ç”¨æˆ·åã€‚&lt;/p>
&lt;h3 id="æŸ¥çœ‹è®¾ç½®">æŸ¥çœ‹è®¾ç½®&lt;/h3>
&lt;p>å½“åˆ›å»ºå®Œæˆåï¼Œå°±å¯ä»¥åœ¨ Github Repository é¡µä¸­çœ‹åˆ°åˆšåˆšåˆ›å»ºçš„ &lt;code>&amp;lt;user&amp;gt;.github.io&lt;/code> ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤ Repo ä¸Šæ–¹çš„ &lt;strong>Settings&lt;/strong> èœå•ä¸­çš„ &lt;em>Pages&lt;/em> é¡µï¼Œè¿›è¡Œç›¸å…³è®¾ç½®ã€‚
&lt;figure style="flex-grow: 180; flex-basis: 432px">
&lt;a href="https://hughxia.github.io/p/github-based-blog-guide/github-pages-setting.jpeg" data-size="1148x637">&lt;img src="https://hughxia.github.io/p/github-based-blog-guide/github-pages-setting.jpeg"
srcset="https://hughxia.github.io/p/github-based-blog-guide/github-pages-setting_hudba47096f0836875a6f919be997c5544_76921_480x0_resize_q75_box.jpeg 480w, https://hughxia.github.io/p/github-based-blog-guide/github-pages-setting_hudba47096f0836875a6f919be997c5544_76921_1024x0_resize_q75_box.jpeg 1024w"
width="1148"
height="637"
loading="lazy"
alt="Setting">
&lt;/a>
&lt;figcaption>Setting&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>åœ¨ &lt;em>Source&lt;/em> é¡¹ä¸­å¯ä»¥é…ç½®ç«™ç‚¹çš„å‘å¸ƒæºï¼Œé»˜è®¤åº”ä¸º &lt;code>main&lt;/code> åˆ†æ”¯çš„æ ¹ç›®å½•ã€‚å›¾ä¸­æˆ‘è®¾ç½®ä¸ºäº† &lt;code>gh-pages&lt;/code> åˆ†æ”¯ï¼ŒåŸå› åé¢å†è®²ã€‚&lt;/p>
&lt;p>åœ¨ &lt;em>Custom domain&lt;/em> é¡¹åˆ™å¯ä»¥é…ç½®è‡ªå®šä¹‰åŸŸåï¼Œå¹¶å¯ç”¨HTTPSã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨-hugo-ç”Ÿæˆåšå®¢æ¡†æ¶">ä½¿ç”¨ Hugo ç”Ÿæˆåšå®¢æ¡†æ¶&lt;/h2>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://gohugo.io/" target="_blank" rel="noopener"
>Hugo&lt;/a> is one of the most popular open-source static site generators. With its amazing speed and flexibility, Hugo makes building websites fun again.&lt;/p>
&lt;/blockquote>
&lt;p>è¦æ­å»ºå®Œæ•´çš„ Blog è¿˜éœ€è¦&lt;em>åšå®¢ç”Ÿæˆå™¨&lt;/em>çš„å¸®åŠ©ã€‚ç›®å‰ä¸»æµçš„ä¸‰å¤§å·¥å…·åˆ†åˆ«ä¸º&lt;a class="link" href="https://github.com/gohugoio/hugo" target="_blank" rel="noopener"
>Hugo&lt;/a>ï¼Œ&lt;a class="link" href="https://github.com/jekyll/jekyll" target="_blank" rel="noopener"
>Jekyll&lt;/a>å’Œ&lt;a class="link" href="https://github.com/hexojs/hexo" target="_blank" rel="noopener"
>Hexo&lt;/a>ã€‚å…¶ä¸­Hugoçš„ ğŸŒŸ æœ€å¤šï¼Œç¼–è¯‘é€Ÿåº¦ä¹Ÿæœ€å¿«ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰ç”¨å®ƒæ¥åšç¤ºä¾‹ã€‚&lt;/p>
&lt;h3 id="å®‰è£…hugo">å®‰è£…Hugo&lt;/h3>
&lt;p>MacOS å’Œ Linux ç³»ç»Ÿéƒ½å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œè¿›è¡Œå®‰è£…ï¼ŒWindows ç³»ç»Ÿçš„å®‰è£…å¯ä»¥å‚ç…§&lt;a class="link" href="https://gohugo.io/getting-started/installing" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>ã€‚è¿™é‡Œä»¥ Ubuntu20.04 ä¸ºä¾‹ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥å®‰è£…å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Shell" data-lang="Shell">apt install hugo
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®‰è£…å®Œæˆåï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¡®è®¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Shell" data-lang="Shell">hugo version
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ–°å»ºç«™ç‚¹">æ–°å»ºç«™ç‚¹&lt;/h3>
&lt;p>è¿›å…¥ä¸Šé¢åˆ›å»ºçš„ &lt;code>&amp;lt;user&amp;gt;.github.io&lt;/code> é¡¹ç›®è·¯å¾„ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒHugoä¼šåœ¨å½“å‰è·¯å¾„åˆ›å»ºç«™ç‚¹æ¡†æ¶ã€‚é»˜è®¤é…ç½®æ–‡ä»¶æ ¼å¼ä¸º &lt;code>TOML&lt;/code> æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡ &lt;code>-f yaml&lt;/code> å‚æ•°ä¿®æ”¹ä¸ºæˆ‘ä»¬ç†Ÿæ‚‰çš„ &lt;code>YAML&lt;/code> æ ¼å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Shell" data-lang="Shell">hugo new site . -f yaml
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="é€‰æ‹©ä¸»é¢˜">é€‰æ‹©ä¸»é¢˜&lt;/h3>
&lt;p>&lt;a class="link" href="https://themes.gohugo.io/" target="_blank" rel="noopener"
>å®˜æ–¹ä¸»é¢˜é¡µ&lt;/a>æœ‰ä¸°å¯Œçš„ä¸»é¢˜å¯ä¾›é€‰æ‹©ï¼Œä¸‹é¢ä»¥æˆ‘ç›®å‰ä½¿ç”¨çš„ &lt;a class="link" href="https://themes.gohugo.io/themes/hugo-theme-stack/" target="_blank" rel="noopener"
>hugo-theme-stack&lt;/a> ä¸ºä¾‹ã€‚&lt;/p>
&lt;p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;a class="link" href="https://git-scm.com/book/en/v2/Git-Tools-Submodules" target="_blank" rel="noopener"
>Git Submodule&lt;/a> æœºåˆ¶å°†ä¸»é¢˜ä»“åº“å…‹éš†ä¸‹æ¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Shell" data-lang="Shell">git submodule add https://github.com/htdvisser/hugo-theme-stack.git themes/hugo-theme-stack
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>æ³¨æ„ï¼š&lt;/strong> å½“æˆ‘ä»¬ä½¿ç”¨ &lt;code>git clone&lt;/code> å‘½ä»¤æ‹‰å–è¿œç¨‹ä»“åº“çš„æ—¶å€™ï¼Œé»˜è®¤ä¸ä¼šæ‹‰å–å­æ¨¡å—ä»£ç ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  &lt;code>--recurse-submodules&lt;/code> å‚æ•°æ¥æ‹‰å–ã€‚ æˆ–è€…åœ¨ä¸»é¡¹ç›®ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Shell" data-lang="Shell">git submodule update --remote --merge
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç¼–è¾‘é…ç½®">ç¼–è¾‘é…ç½®&lt;/h3>
&lt;p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ° &lt;code>config.yaml&lt;/code> æ–‡ä»¶ï¼Œè¿™æ˜¯æ•´ä¸ªHugoé¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¿®æ”¹ &lt;code>baseurl&lt;/code> , &lt;code>languageCode&lt;/code> , &lt;code>title&lt;/code> å’Œ &lt;code>theme&lt;/code> è¿™å‡ ä¸ªå­—æ®µå®ŒæˆåŸºæœ¬é…ç½®ã€‚ä¸»é¢˜å¾€å¾€éƒ½ä¼šæä¾›ä¸°å¯Œçš„è‡ªå®šä¹‰é…ç½®ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥é˜…é¡¹ç›®æ–‡æ¡£ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Yaml" data-lang="Yaml">&lt;span class="nt">baseurl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://hughxia.github.io/&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">languageCode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">zh-cn&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">theme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo-theme-stack&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Hugh&amp;#39;s Blog&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åˆ›å»ºæ–‡ç« ">åˆ›å»ºæ–‡ç« &lt;/h3>
&lt;p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ç¯‡æ–‡ç« ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Shell" data-lang="Shell">hugo new post/first-post.md
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Hugoä¼šåœ¨ Markdown æ–‡ä»¶å¤´éƒ¨ä»¥é…ç½®æ–‡ä»¶ç›¸åŒè¯­æ³•çš„å½¢å¼æ·»åŠ ä¸€äº› Meta ä¿¡æ¯ï¼Œæˆ‘ä»¬åœ¨åˆ†éš”çº¿ &lt;code>---&lt;/code> ä¸‹æ–¹è¿›è¡Œæ–‡ç« å†…å®¹çš„ç¼–è¾‘ã€‚&lt;/p>
&lt;h3 id="æœ¬åœ°é¢„è§ˆ">æœ¬åœ°é¢„è§ˆ&lt;/h3>
&lt;p>å¯åŠ¨ &lt;code>hugo server&lt;/code>ï¼Œå³å¯åœ¨æœ¬åœ°&lt;a class="link" href="http://localhost:1313" target="_blank" rel="noopener"
>http://localhost:1313&lt;/a>è¿›è¡Œé¢„è§ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Shell" data-lang="Shell">hugo server -D
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…¶ä¸­ &lt;code>-D&lt;/code> å‚æ•°æŒ‡ä¼šæ¸²æŸ“è‰ç¨¿ï¼Œé€šè¿‡ &lt;code>hugo new posts&lt;/code> å‘½ä»¤åˆ›å»ºå‡ºæ¥çš„æ–‡ç« é¡¶éƒ¨Metaä¿¡æ¯ä¸­é»˜è®¤&lt;strong>draft&lt;/strong>è®¾ç½®ä¸º &lt;em>true&lt;/em> ï¼Œå½“ç¼–è¾‘å®Œæˆå‡†å¤‡æ­£å¼å‘å¸ƒæ—¶ï¼Œéœ€è¦å°†å…¶æ”¹ä¸º &lt;em>false&lt;/em>ã€‚&lt;/p>
&lt;h2 id="é€šè¿‡-github-actions-è‡ªåŠ¨éƒ¨ç½²">é€šè¿‡ Github Actions è‡ªåŠ¨éƒ¨ç½²&lt;/h2>
&lt;blockquote>
&lt;p>åœ¨ &lt;a class="link" href="https://docs.github.com/cn/actions" target="_blank" rel="noopener"
>GitHub Actions&lt;/a> çš„ä»“åº“ä¸­è‡ªåŠ¨åŒ–ã€è‡ªå®šä¹‰å’Œæ‰§è¡Œè½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹ã€‚ æ‚¨å¯ä»¥å‘ç°ã€åˆ›å»ºå’Œå…±äº«æ“ä½œä»¥æ‰§è¡Œæ‚¨å–œæ¬¢çš„ä»»ä½•ä½œä¸šï¼ˆåŒ…æ‹¬ CI/CDï¼‰ï¼Œå¹¶å°†æ“ä½œåˆå¹¶åˆ°å®Œå…¨è‡ªå®šä¹‰çš„å·¥ä½œæµç¨‹ä¸­ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="éƒ¨ç½²é—®é¢˜">éƒ¨ç½²é—®é¢˜&lt;/h3>
&lt;p>ç°åœ¨å¯ä»¥é€šè¿‡ &lt;code>hugo&lt;/code> å‘½ä»¤åœ¨ &lt;strong>public&lt;/strong> æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆæœ€ç»ˆé¡µé¢ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶å¤¹ä¹ŸåŠ å…¥åˆ°Gitçš„ç‰ˆæœ¬æ§åˆ¶ï¼Œç„¶åé€šè¿‡åœ¨ä¸Šè¿° &lt;strong>Settings&lt;/strong> é¡µä¸­å°†å‘å¸ƒæºæ”¹ä¸º &lt;strong>public&lt;/strong> æ¥å®Œæˆéƒ¨ç½²ã€‚&lt;/p>
&lt;p>ä¸è¿‡ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ¯æ¬¡åœ¨å®Œæˆæ–‡ç« åˆ›ä½œï¼ŒåŒæ­¥è‡³ Github ä¹‹å‰éƒ½éœ€è¦ä¸»åŠ¨ç”Ÿæˆ &lt;strong>public&lt;/strong> æ–‡ä»¶å¤¹ï¼Œè¿™æ ·ä¸ä»…éº»çƒ¦è€Œä¸”ä¼šåœ¨æˆ‘ä»¬å½“å‰çš„ä»“åº“ä¸­å¢åŠ å¾ˆå¤šå†—ä½™æ–‡ä»¶ã€‚å¥½åœ¨ Github å®˜æ–¹æ¨å‡ºäº† CI åˆ©å™¨ï¼šGithub Actionsï¼Œé€šè¿‡å®ƒå¯ä»¥å®Œç¾åœ°è§£å†³ä¸Šè¿°é—®é¢˜ã€‚&lt;/p>
&lt;h3 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>å·¥ä½œæµç¨‹&lt;/strong>ï¼ˆworkflowï¼‰: å·¥ä½œæµç¨‹æ˜¯æ‚¨æ·»åŠ åˆ°ä»“åº“çš„è‡ªåŠ¨åŒ–è¿‡ç¨‹ã€‚&lt;/li>
&lt;li>&lt;strong>äº‹ä»¶&lt;/strong>ï¼ˆeventï¼‰: äº‹ä»¶æ˜¯è§¦å‘å·¥ä½œæµç¨‹çš„ç‰¹å®šæ´»åŠ¨ã€‚&lt;/li>
&lt;li>&lt;strong>ä½œä¸š&lt;/strong>ï¼ˆjobï¼‰: ä½œä¸šæ˜¯åœ¨åŒä¸€è¿è¡ŒæœåŠ¡å™¨ä¸Šæ‰§è¡Œçš„ä¸€ç»„æ­¥éª¤ã€‚&lt;/li>
&lt;li>&lt;strong>æ­¥éª¤&lt;/strong>ï¼ˆstepï¼‰: æ­¥éª¤æ˜¯å¯ä»¥åœ¨ä½œä¸šä¸­è¿è¡Œå‘½ä»¤çš„å•ä¸ªä»»åŠ¡ã€‚&lt;/li>
&lt;li>&lt;strong>æ“ä½œ&lt;/strong>ï¼ˆactionï¼‰: æ“ä½œæ˜¯ç‹¬ç«‹å‘½ä»¤ï¼Œå®ƒä»¬ç»„åˆåˆ°æ­¥éª¤ä»¥åˆ›å»ºä½œä¸šã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="cié…ç½®">CIé…ç½®&lt;/h3>
&lt;p>åœ¨ Github çš„ Repo é¡µä¸Šæ–¹æˆ‘ä»¬å¯ä»¥çœ‹åˆ° &lt;strong>Actions&lt;/strong> èœå•ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºä¸€ä¸ª &lt;code>Workflow&lt;/code> ï¼Œä¸‹é¢æ˜¯æˆ‘çš„é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-Yaml" data-lang="Yaml">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">CI&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="c"># Controls when the workflow will run&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Triggers the workflow on push or pull request events but only for the main branch&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">main]&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">pull_request&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">main]&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Allows you to run this workflow manually from the Actions tab&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">workflow_dispatch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="c"># A workflow run is made up of one or more jobs that can run sequentially or in parallel&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># This workflow contains a single job called &amp;#34;build&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># The type of runner that the job will run on&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Steps represent a sequence of tasks that will be executed as part of the job&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Git checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">submodules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Fetch Hugo themes (true OR recursive)&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-depth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Fetch all history for .GitInfo and .Lastmod&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># You may pin to the exact commit or the version.&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># uses: peaceiris/actions-hugo@2e89aa66d0093e4cd14751b3028fc1a179452c2e&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2.4.13&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0.84.4&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Runs a single command using the runners shell&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo --minify&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-gh-pages@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">github.ref == &amp;#39;refs/heads/main&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">github_token&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GITHUB_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_dir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./public&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šè¿°é…ç½®çš„æ„æ€æ˜¯æˆ‘ä»¬ä¼šåœ¨æ¯æ¬¡ &lt;code>push&lt;/code> ä»£ç è‡³ &lt;code>main&lt;/code> åˆ†æ”¯çš„æ—¶ï¼Œåœ¨æœ€æ–°çš„ Ubuntu ç³»ç»Ÿç¯å¢ƒä¸‹ä¾æ¬¡å®Œæˆä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å°† &lt;code>main&lt;/code> åˆ†æ”¯æœ€æ–°ä»£ç æ£€å‡º&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ &lt;code>hugo&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€šè¿‡ &lt;code>hugo --minify&lt;/code> ä»¥æœ€å°åŒ–çš„æ–¹å¼æ‰“åŒ…ç½‘é¡µè‡³ &lt;strong>public&lt;/strong> æ–‡ä»¶&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å°†æ‰“åŒ…åçš„æ–‡ä»¶å¤¹æ¨é€è‡³å½“å‰ä»“åº“çš„ &lt;code>gh-pages&lt;/code> åˆ†æ”¯&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>è¿˜è®°å¾—ä¸Šé¢åœ¨ &lt;em>Pages&lt;/em> å›¾ç‰‡ä¸­çš„é…ç½®å§ï¼Œè¿™æ—¶å€™ Github Pages å°±ä¼šä» &lt;code>gh-pages&lt;/code> åˆ†æ”¯çš„æ ¹ç›®å½•ç”Ÿæˆæœ€ç»ˆçš„ç½‘é¡µã€‚å¯ä»¥åœ¨ &lt;strong>Actions&lt;/strong> é¡µæŸ¥çœ‹ &lt;em>Job&lt;/em> çš„æ‰§è¡Œæƒ…å†µã€‚å½“æ‰§è¡Œå®Œæˆåï¼Œä¸€èˆ¬ç­‰å¾… 1 ~ 3 åˆ†é’Ÿï¼Œå°±å¯ä»¥åœ¨è‡ªå·±çš„åšå®¢ç½‘ç«™çœ‹åˆ°æœ€æ–°æäº¤çš„å†…å®¹äº†ã€‚&lt;/p>
&lt;h2 id="åè®°">åè®°&lt;/h2>
&lt;p>é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸€ä¸ªå±äºä½ è‡ªå·±çš„åšå®¢ç½‘ç«™çš„æ­å»ºï¼ˆåˆ«å¿˜äº†å®šåˆ¶ä½ çš„ä¸ªæ€§åŒ–ä¸»é¢˜å“Ÿ~ï¼‰ï¼Œæ¥ä¸‹æ¥å°±éšå¿ƒæ‰€æ¬²åœ°å¼€å§‹ä½ çš„å†…å®¹åˆ›ä½œå§ã€‚&lt;/p></description></item></channel></rss>