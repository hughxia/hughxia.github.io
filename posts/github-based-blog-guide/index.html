<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content><meta name=generator content="Hugo 0.68.3"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=/index.xml type=application/rss+xml title="Hugh's Blog"><title>基于Github搭建博客指南 - Hugh's Blog</title></head><body><header><div class="container clearfix"><a class=path href=https://hughxia.github.io/>[Hugh's Blog]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2021-07-10>July 10, 2021</time></span>
<span class=key>in</span>
<span class=val><a href=/categories/tool>Tool</a></span><br><span class=key>tags:</span>
<span class=val><a href=/tags/github-pages>github pages</a>
<a href=/tags/github-actions>github actions</a>
<a href=/tags/hugo>hugo</a></span></div><h1 class=headline itemprop=headline>基于Github搭建博客指南</h1><section class=body itemprop=articleBody><h2 id=前言>前言</h2><p>本文会介绍如何基于Github Pages + Github Actions + Hugo搭建个人博客，搭建完成后你只需要完全专注于文章创作，其余事情完全不用操心。它主要包括以下特性：</p><ul><li>免费托管</li><li>版本控制</li><li>全自动部署</li><li>Markdown语法支持</li><li>个性化主题</li><li>支持绑定自定义域名</li><li>丰富的拓展性</li></ul><h3 id=前置知识>前置知识</h3><ul><li><a href=https://git-scm.com>Git</a>（熟悉）</li><li><a href=https://github.com>GitHub</a>（了解）</li><li>Markdown（了解）</li><li>HTML&CSS（了解）</li></ul><p>效果展示：<a href=https://hughxia.github.io/>https://hughxia.github.io</a></p><p>项目地址：<a href=https://github.com/hughxia/hughxia.github.io>https://github.com/hughxia/hughxia.github.io</a></p><h2 id=创建github-pages站点>创建GitHub Pages站点</h2><blockquote><p><a href=https://pages.github.com/>Github Pages</a> is available in public repositories with GitHub Free and GitHub Free for organizations, and in public and private repositories with GitHub Pro, GitHub Team, GitHub Enterprise Cloud, and GitHub Enterprise Server.</p></blockquote><p>Github Pages 可以帮助我们从特定的GitHub Repo生成静态站点。这里我们参照<a href=https://docs.github.com/cn/pages/getting-started-with-github-pages/creating-a-github-pages-site>Github Pages 官方文档</a>创建属于你的个人站点。</p><h3 id=1-创建仓库>1. 创建仓库</h3><p>首先新建一个Repository，Repository name 根据 Owner的不同，名字要求分别为<code>&lt;user>.github.io</code> 或 <code>&lt;organization>.github.io</code>格式。因为是个人博客，我们使用自己的用户名。</p><h3 id=2-查看设置>2. 查看设置</h3><p>当创建完成后，就可以在Github Repository中看到刚刚创建的 <code>&lt;user>.github.io</code> 项目，我们可以在当前Repo的 <strong>Setting</strong>菜单中的<em>Pages</em>页，进行相关设置。
<img src=../../static/img/github-based-blog-guide/github-pages-setting.jpeg alt=Setting></p><p>在<em>Source</em>项中可以配置站点的发布源，默认应为<code>main</code>分支的根目录。图中我设置为了<code>gh-pages</code>分支，原因后面再讲。</p><p>在<em>Custom domain</em>项则可以配置自定义域名，并使用HTTPS。</p><h2 id=使用hugo生成博客框架>使用Hugo生成博客框架</h2><blockquote><p><a href=https://gohugo.io/>Hugo</a> is one of the most popular open-source static site generators. With its amazing speed and flexibility, Hugo makes building websites fun again.</p></blockquote><p>目前我们的个人站点只有一个简单的静态页面，要搭建完整的Blog系统还需要<em>博客生成器</em>的帮助。目前主流的三大工具分别为<a href=https://github.com/gohugoio/hugo>Hugo</a>，<a href=https://github.com/jekyll/jekyll>Jekyll</a>和<a href=https://github.com/hexojs/hexo>Hexo</a>。其中Hugo的Star数最多，编译速度也最快，这里我们选用它来做示例。</p><h3 id=1-安装hugo>1. 安装Hugo</h3><p>MacOS和Linux系统都可以直接在命令行进行安装，Windows系统的安装可以参照<a href=https://gohugo.io/getting-started/installing>官方文档</a>。这里以Ubuntu20.04为例，打开终端，输入安装命令：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell>apt install hugo
</code></pre></div><p>安装完成后，通过以下命令进行确认：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell>hugo version
</code></pre></div><h3 id=2-新建站点>2. 新建站点</h3><p>进入上面创建的 <code>&lt;user>.github.io</code> 项目路径，执行下面的命令，Hugo会在当前路径创建站点框架。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell>hugo new site .
</code></pre></div><h3 id=3-选择主题>3. 选择主题</h3><p><a href=https://themes.gohugo.io/>官方主题页</a>有丰富的主题可供选择，下面以我选择的<a href=https://themes.gohugo.io/themes/hugo-base16-theme/>Base16</a>为例讲解。</p><p>这里我们可以通过<a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>Git Submodule</a>机制将主题仓库克隆下来：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell>git submodule add https://github.com/htdvisser/hugo-base16-theme.git themes/base16
</code></pre></div><blockquote><p><strong>注意：</strong> 当我们使用<code>git clone</code>命令拉取远程仓库的时候，默认不会拉取子模块代码，可以通过添加<code>--recurse-submodules</code>参数来拉取。 或者在主项目中执行以下命令：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell>git submodule update --remote --merge 
</code></pre></div></blockquote><h3 id=4-编辑配置>4. 编辑配置</h3><p>在项目主目录下可以找到<code>config.toml</code>文件，这是整个Hugo项目的配置文件，我们修改<code>baseURL</code>, <code>title</code>和<code>theme</code>这几个字段完成基本配置。其中不同的主题会提供丰富的自定义配置，可以参考主题的<em>homepage</em>按需配置。示例：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Toml data-lang=Toml><span style=color:#a6e22e>baseURL</span> = <span style=color:#e6db74>&#34;https://hughxia.github.io/&#34;</span>
<span style=color:#a6e22e>languageCode</span> = <span style=color:#e6db74>&#34;en-us&#34;</span>
<span style=color:#a6e22e>title</span> = <span style=color:#e6db74>&#34;Hugh&#39;s Blog&#34;</span>
<span style=color:#a6e22e>theme</span> = <span style=color:#e6db74>&#34;base16&#34;</span>
</code></pre></div><h3 id=5-创建文章>5. 创建文章</h3><p>在主目录下执行以下命令创建一篇文章：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell>hugo new post/first-post.md
</code></pre></div><p>Hugo会帮我们在md文件头部以toml语法的形式添加一些Meta信息，我们在<code>---</code>下方进行文章内容的编辑。</p><h3 id=6-本地预览>6. 本地预览</h3><p>启动hugo server，即可在本地<a href=http://localhost:1313>http://localhost:1313</a>进行预览。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell>hugo server -D
</code></pre></div><p>其中 <code>-D</code> 参数指会渲染草稿，通过 <code>hugo new posts</code>命令创建出来的文章顶部Meta信息中默认<strong>draft</strong>设置为<em>true</em>,当编辑完成准备正式发布时，需要将其改为<em>false</em>。</p><h2 id=通过github-actions完成自动部署工作>通过Github Actions完成自动部署工作</h2><p>TODO</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2021 Hugh's Blog - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer></body></html>