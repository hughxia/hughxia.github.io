<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="hughXia Blog åšå®¢ Github ä¼‘çš„è‡ªç•™åœ°"><meta name=description content="æœ¬æ–‡ä¼šä»‹ç»å¦‚ä½•åŸºäº Github Pages + Github Actions + Hugo æ­å»ºä¸ªäººåšå®¢ç½‘ç«™ã€‚"><meta name=msvalidate.01 content="21FE7C08C499856452941D70B1212D52"><meta name=google-site-verification content="N1XLANbWjQC0FlxEizFwsHdTGbY1UsBMip6Sm5qeikg"><title>åŸºäºGithubæ­å»ºåšå®¢æŒ‡å—</title><link rel=canonical href=https://hughxia.github.io/p/github-based-blog-guide/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="åŸºäºGithubæ­å»ºåšå®¢æŒ‡å—"><meta property="og:description" content="æœ¬æ–‡ä¼šä»‹ç»å¦‚ä½•åŸºäº Github Pages + Github Actions + Hugo æ­å»ºä¸ªäººåšå®¢ç½‘ç«™ã€‚"><meta property="og:url" content="https://hughxia.github.io/p/github-based-blog-guide/"><meta property="og:site_name" content="Hugh's Blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="github"><meta property="article:tag" content="hugo"><meta property="article:published_time" content="2021-07-11T00:16:41+08:00"><meta property="article:modified_time" content="2021-07-11T00:16:41+08:00"><meta property="og:image" content="https://hughxia.github.io/p/github-based-blog-guide/github.png"><meta name=twitter:title content="åŸºäºGithubæ­å»ºåšå®¢æŒ‡å—"><meta name=twitter:description content="æœ¬æ–‡ä¼šä»‹ç»å¦‚ä½•åŸºäº Github Pages + Github Actions + Hugo æ­å»ºä¸ªäººåšå®¢ç½‘ç«™ã€‚"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hughxia.github.io/p/github-based-blog-guide/github.png"></head><body class="article-page has-toc"><script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script><div class="container main-container flex
extended"><div id=article-toolbar><a href=https://hughxia.github.io/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>è¿”å›</span></a></div><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/github-based-blog-guide/><img src=/p/github-based-blog-guide/github_hu49a75afa8dde1d5fada982f45f8559d5_29074_800x0_resize_box_2.png srcset="/p/github-based-blog-guide/github_hu49a75afa8dde1d5fada982f45f8559d5_29074_800x0_resize_box_2.png 800w, /p/github-based-blog-guide/github_hu49a75afa8dde1d5fada982f45f8559d5_29074_1600x0_resize_box_2.png 1600w" width=800 height=388 loading=lazy alt="Featured image of post åŸºäºGithubæ­å»ºåšå®¢æŒ‡å—"></a></div><div class=article-details><header class=article-category><a href=/categories/tool/ style=background-color:#2a9d8f;color:#fff>Tool</a></header><h2 class=article-title><a href=/p/github-based-blog-guide/>åŸºäºGithubæ­å»ºåšå®¢æŒ‡å—</a></h2><h3 class=article-subtitle>æœ¬æ–‡ä¼šä»‹ç»å¦‚ä½•åŸºäº Github Pages + Github Actions + Hugo æ­å»ºä¸ªäººåšå®¢ç½‘ç«™ã€‚</h3><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>Jul 11, 2021</time></footer></div></header><section class=article-content><h2 id=å‰è¨€>å‰è¨€</h2><p>æœ¬æ–‡ä¼šä»‹ç»å¦‚ä½•åŸºäº Github Pages + Github Actions + Hugo æ­å»ºä¸ªäººåšå®¢ç½‘ç«™ï¼Œå®ƒä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>å…è´¹æ‰˜ç®¡</li><li>ç‰ˆæœ¬æ§åˆ¶</li><li>å…¨è‡ªåŠ¨éƒ¨ç½²</li><li>Markdownè¯­æ³•æ”¯æŒ</li><li>ä¸ªæ€§åŒ–ä¸»é¢˜</li><li>æ”¯æŒè‡ªå®šä¹‰åŸŸå</li></ul><h3 id=å‰ç½®çŸ¥è¯†>å‰ç½®çŸ¥è¯†</h3><ul><li><a class=link href=https://git-scm.com target=_blank rel=noopener>Git</a>ï¼ˆç†Ÿæ‚‰ï¼‰</li><li><a class=link href=https://github.com target=_blank rel=noopener>GitHub</a>ï¼ˆäº†è§£ï¼‰</li><li>Markdownï¼ˆäº†è§£ï¼‰</li><li>HTML&CSSï¼ˆäº†è§£ï¼‰</li></ul><h3 id=å¿…å¤‡æ¡ä»¶>å¿…å¤‡æ¡ä»¶</h3><ul><li>Github è´¦æˆ·</li></ul><p>æ•ˆæœå±•ç¤ºï¼š<a class=link href=https://hughxia.github.io/ target=_blank rel=noopener>https://hughxia.github.io</a></p><p>é¡¹ç›®åœ°å€ï¼š<a class=link href=https://github.com/hughxia/hughxia.github.io target=_blank rel=noopener>https://github.com/hughxia/hughxia.github.io</a></p><h2 id=åˆ›å»º-github-pages-ç«™ç‚¹>åˆ›å»º GitHub Pages ç«™ç‚¹</h2><blockquote><p><a class=link href=https://pages.github.com/ target=_blank rel=noopener>Github Pages</a> é€‚ç”¨äºå…·æœ‰ GitHub Free å’Œç»„ç»‡çš„ GitHub Free çš„å…¬å…±ä»“åº“ï¼Œä»¥åŠå…·æœ‰ GitHub Proã€GitHub Teamã€GitHub Enterprise Cloud å’Œ GitHub Enterprise Server çš„å…¬å…±å’Œç§æœ‰ä»“åº“ã€‚</p></blockquote><p>Github Pages å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä»ç‰¹å®šçš„ GitHub Repo ç”Ÿæˆé™æ€ç«™ç‚¹ã€‚è¿™é‡Œæˆ‘ä»¬å‚ç…§<a class=link href=https://docs.github.com/cn/pages/getting-started-with-github-pages/creating-a-github-pages-site target=_blank rel=noopener>Github Pages å®˜æ–¹æ–‡æ¡£</a>åˆ›å»ºå±äºä½ çš„ä¸ªäººç«™ç‚¹ã€‚</p><h3 id=åˆ›å»ºä»“åº“>åˆ›å»ºä»“åº“</h3><p>é¦–å…ˆæ–°å»ºä¸€ä¸ª Repositoryï¼ŒRepository name æ ¹æ® Owner çš„ä¸åŒï¼Œåå­—è¦æ±‚åˆ†åˆ«ä¸º <code>&lt;user>.github.io</code> æˆ– <code>&lt;organization>.github.io</code> æ ¼å¼ã€‚å› ä¸ºæ˜¯ä¸ªäººåšå®¢ï¼Œæˆ‘ä»¬ä½¿ç”¨è‡ªå·±çš„ç”¨æˆ·åã€‚</p><h3 id=æŸ¥çœ‹è®¾ç½®>æŸ¥çœ‹è®¾ç½®</h3><p>å½“åˆ›å»ºå®Œæˆåï¼Œå°±å¯ä»¥åœ¨ Github Repository é¡µä¸­çœ‹åˆ°åˆšåˆšåˆ›å»ºçš„ <code>&lt;user>.github.io</code> ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤ Repo ä¸Šæ–¹çš„ <strong>Settings</strong> èœå•ä¸­çš„ <em>Pages</em> é¡µï¼Œè¿›è¡Œç›¸å…³è®¾ç½®ã€‚<figure style=flex-grow:180;flex-basis:432px><a href=/p/github-based-blog-guide/github-pages-setting.jpeg data-size=1148x637><img src=/p/github-based-blog-guide/github-pages-setting.jpeg srcset="/p/github-based-blog-guide/github-pages-setting_hudba47096f0836875a6f919be997c5544_76921_480x0_resize_q75_box.jpeg 480w, /p/github-based-blog-guide/github-pages-setting_hudba47096f0836875a6f919be997c5544_76921_1024x0_resize_q75_box.jpeg 1024w" width=1148 height=637 loading=lazy alt=Setting></a><figcaption>Setting</figcaption></figure></p><p>åœ¨ <em>Source</em> é¡¹ä¸­å¯ä»¥é…ç½®ç«™ç‚¹çš„å‘å¸ƒæºï¼Œé»˜è®¤åº”ä¸º <code>main</code> åˆ†æ”¯çš„æ ¹ç›®å½•ã€‚å›¾ä¸­æˆ‘è®¾ç½®ä¸ºäº† <code>gh-pages</code> åˆ†æ”¯ï¼ŒåŸå› åé¢å†è®²ã€‚</p><p>åœ¨ <em>Custom domain</em> é¡¹åˆ™å¯ä»¥é…ç½®è‡ªå®šä¹‰åŸŸåï¼Œå¹¶å¯ç”¨HTTPSã€‚</p><h2 id=ä½¿ç”¨-hugo-ç”Ÿæˆåšå®¢æ¡†æ¶>ä½¿ç”¨ Hugo ç”Ÿæˆåšå®¢æ¡†æ¶</h2><blockquote><p><a class=link href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> is one of the most popular open-source static site generators. With its amazing speed and flexibility, Hugo makes building websites fun again.</p></blockquote><p>è¦æ­å»ºå®Œæ•´çš„ Blog è¿˜éœ€è¦<em>åšå®¢ç”Ÿæˆå™¨</em>çš„å¸®åŠ©ã€‚ç›®å‰ä¸»æµçš„ä¸‰å¤§å·¥å…·åˆ†åˆ«ä¸º<a class=link href=https://github.com/gohugoio/hugo target=_blank rel=noopener>Hugo</a>ï¼Œ<a class=link href=https://github.com/jekyll/jekyll target=_blank rel=noopener>Jekyll</a>å’Œ<a class=link href=https://github.com/hexojs/hexo target=_blank rel=noopener>Hexo</a>ã€‚å…¶ä¸­Hugoçš„ ğŸŒŸ æœ€å¤šï¼Œç¼–è¯‘é€Ÿåº¦ä¹Ÿæœ€å¿«ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰ç”¨å®ƒæ¥åšç¤ºä¾‹ã€‚</p><h3 id=å®‰è£…hugo>å®‰è£…Hugo</h3><p>MacOS å’Œ Linux ç³»ç»Ÿéƒ½å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œè¿›è¡Œå®‰è£…ï¼ŒWindows ç³»ç»Ÿçš„å®‰è£…å¯ä»¥å‚ç…§<a class=link href=https://gohugo.io/getting-started/installing target=_blank rel=noopener>å®˜æ–¹æ–‡æ¡£</a>ã€‚è¿™é‡Œä»¥ Ubuntu20.04 ä¸ºä¾‹ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥å®‰è£…å‘½ä»¤ï¼š</p><div class=highlight><pre class=chroma><code class=language-Shell data-lang=Shell>apt install hugo
</code></pre></div><p>å®‰è£…å®Œæˆåï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¡®è®¤ï¼š</p><div class=highlight><pre class=chroma><code class=language-Shell data-lang=Shell>hugo version
</code></pre></div><h3 id=æ–°å»ºç«™ç‚¹>æ–°å»ºç«™ç‚¹</h3><p>è¿›å…¥ä¸Šé¢åˆ›å»ºçš„ <code>&lt;user>.github.io</code> é¡¹ç›®è·¯å¾„ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒHugoä¼šåœ¨å½“å‰è·¯å¾„åˆ›å»ºç«™ç‚¹æ¡†æ¶ã€‚é»˜è®¤é…ç½®æ–‡ä»¶æ ¼å¼ä¸º <code>TOML</code> æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡ <code>-f yaml</code> å‚æ•°ä¿®æ”¹ä¸ºæˆ‘ä»¬ç†Ÿæ‚‰çš„ <code>YAML</code> æ ¼å¼ã€‚</p><div class=highlight><pre class=chroma><code class=language-Shell data-lang=Shell>hugo new site . -f yaml
</code></pre></div><h3 id=é€‰æ‹©ä¸»é¢˜>é€‰æ‹©ä¸»é¢˜</h3><p><a class=link href=https://themes.gohugo.io/ target=_blank rel=noopener>å®˜æ–¹ä¸»é¢˜é¡µ</a>æœ‰ä¸°å¯Œçš„ä¸»é¢˜å¯ä¾›é€‰æ‹©ï¼Œä¸‹é¢ä»¥æˆ‘ç›®å‰ä½¿ç”¨çš„ <a class=link href=https://themes.gohugo.io/themes/hugo-theme-stack/ target=_blank rel=noopener>hugo-theme-stack</a> ä¸ºä¾‹ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <a class=link href=https://git-scm.com/book/en/v2/Git-Tools-Submodules target=_blank rel=noopener>Git Submodule</a> æœºåˆ¶å°†ä¸»é¢˜ä»“åº“å…‹éš†ä¸‹æ¥ï¼š</p><div class=highlight><pre class=chroma><code class=language-Shell data-lang=Shell>git submodule add https://github.com/htdvisser/hugo-theme-stack.git themes/hugo-theme-stack
</code></pre></div><p><strong>æ³¨æ„ï¼š</strong> å½“æˆ‘ä»¬ä½¿ç”¨ <code>git clone</code> å‘½ä»¤æ‹‰å–è¿œç¨‹ä»“åº“çš„æ—¶å€™ï¼Œé»˜è®¤ä¸ä¼šæ‹‰å–å­æ¨¡å—ä»£ç ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  <code>--recurse-submodules</code> å‚æ•°æ¥æ‹‰å–ã€‚ æˆ–è€…åœ¨ä¸»é¡¹ç›®ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><pre class=chroma><code class=language-Shell data-lang=Shell>git submodule update --remote --merge 
</code></pre></div><h3 id=ç¼–è¾‘é…ç½®>ç¼–è¾‘é…ç½®</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ° <code>config.yaml</code> æ–‡ä»¶ï¼Œè¿™æ˜¯æ•´ä¸ªHugoé¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¿®æ”¹ <code>baseurl</code> , <code>languageCode</code> , <code>title</code> å’Œ <code>theme</code> è¿™å‡ ä¸ªå­—æ®µå®ŒæˆåŸºæœ¬é…ç½®ã€‚ä¸»é¢˜å¾€å¾€éƒ½ä¼šæä¾›ä¸°å¯Œçš„è‡ªå®šä¹‰é…ç½®ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥é˜…é¡¹ç›®æ–‡æ¡£ã€‚</p><div class=highlight><pre class=chroma><code class=language-Yaml data-lang=Yaml><span class=nt>baseurl</span><span class=p>:</span><span class=w> </span><span class=l>https://hughxia.github.io/</span><span class=w>
</span><span class=w></span><span class=nt>languageCode</span><span class=p>:</span><span class=w> </span><span class=l>zh-cn</span><span class=w>
</span><span class=w></span><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>hugo-theme-stack</span><span class=w>
</span><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>Hugh&#39;s Blog</span><span class=w>
</span></code></pre></div><h3 id=åˆ›å»ºæ–‡ç« >åˆ›å»ºæ–‡ç« </h3><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ç¯‡æ–‡ç« ï¼š</p><div class=highlight><pre class=chroma><code class=language-Shell data-lang=Shell>hugo new post/first-post.md
</code></pre></div><p>Hugoä¼šåœ¨ Markdown æ–‡ä»¶å¤´éƒ¨ä»¥é…ç½®æ–‡ä»¶ç›¸åŒè¯­æ³•çš„å½¢å¼æ·»åŠ ä¸€äº› Meta ä¿¡æ¯ï¼Œæˆ‘ä»¬åœ¨åˆ†éš”çº¿ <code>---</code> ä¸‹æ–¹è¿›è¡Œæ–‡ç« å†…å®¹çš„ç¼–è¾‘ã€‚</p><h3 id=æœ¬åœ°é¢„è§ˆ>æœ¬åœ°é¢„è§ˆ</h3><p>å¯åŠ¨ <code>hugo server</code>ï¼Œå³å¯åœ¨æœ¬åœ°<a class=link href=http://localhost:1313 target=_blank rel=noopener>http://localhost:1313</a>è¿›è¡Œé¢„è§ˆã€‚</p><div class=highlight><pre class=chroma><code class=language-Shell data-lang=Shell>hugo server -D
</code></pre></div><p>å…¶ä¸­ <code>-D</code> å‚æ•°æŒ‡ä¼šæ¸²æŸ“è‰ç¨¿ï¼Œé€šè¿‡ <code>hugo new posts</code> å‘½ä»¤åˆ›å»ºå‡ºæ¥çš„æ–‡ç« é¡¶éƒ¨Metaä¿¡æ¯ä¸­é»˜è®¤<strong>draft</strong>è®¾ç½®ä¸º <em>true</em> ï¼Œå½“ç¼–è¾‘å®Œæˆå‡†å¤‡æ­£å¼å‘å¸ƒæ—¶ï¼Œéœ€è¦å°†å…¶æ”¹ä¸º <em>false</em>ã€‚</p><h2 id=é€šè¿‡-github-actions-è‡ªåŠ¨éƒ¨ç½²>é€šè¿‡ Github Actions è‡ªåŠ¨éƒ¨ç½²</h2><blockquote><p>åœ¨ <a class=link href=https://docs.github.com/cn/actions target=_blank rel=noopener>GitHub Actions</a> çš„ä»“åº“ä¸­è‡ªåŠ¨åŒ–ã€è‡ªå®šä¹‰å’Œæ‰§è¡Œè½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹ã€‚ æ‚¨å¯ä»¥å‘ç°ã€åˆ›å»ºå’Œå…±äº«æ“ä½œä»¥æ‰§è¡Œæ‚¨å–œæ¬¢çš„ä»»ä½•ä½œä¸šï¼ˆåŒ…æ‹¬ CI/CDï¼‰ï¼Œå¹¶å°†æ“ä½œåˆå¹¶åˆ°å®Œå…¨è‡ªå®šä¹‰çš„å·¥ä½œæµç¨‹ä¸­ã€‚</p></blockquote><h3 id=éƒ¨ç½²é—®é¢˜>éƒ¨ç½²é—®é¢˜</h3><p>ç°åœ¨å¯ä»¥é€šè¿‡ <code>hugo</code> å‘½ä»¤åœ¨ <strong>public</strong> æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆæœ€ç»ˆé¡µé¢ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶å¤¹ä¹ŸåŠ å…¥åˆ°Gitçš„ç‰ˆæœ¬æ§åˆ¶ï¼Œç„¶åé€šè¿‡åœ¨ä¸Šè¿° <strong>Settings</strong> é¡µä¸­å°†å‘å¸ƒæºæ”¹ä¸º <strong>public</strong> æ¥å®Œæˆéƒ¨ç½²ã€‚</p><p>ä¸è¿‡ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ¯æ¬¡åœ¨å®Œæˆæ–‡ç« åˆ›ä½œï¼ŒåŒæ­¥è‡³ Github ä¹‹å‰éƒ½éœ€è¦ä¸»åŠ¨ç”Ÿæˆ <strong>public</strong> æ–‡ä»¶å¤¹ï¼Œè¿™æ ·ä¸ä»…éº»çƒ¦è€Œä¸”ä¼šåœ¨æˆ‘ä»¬å½“å‰çš„ä»“åº“ä¸­å¢åŠ å¾ˆå¤šå†—ä½™æ–‡ä»¶ã€‚å¥½åœ¨ Github å®˜æ–¹æ¨å‡ºäº† CI åˆ©å™¨ï¼šGithub Actionsï¼Œé€šè¿‡å®ƒå¯ä»¥å®Œç¾åœ°è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p><h3 id=åŸºæœ¬æ¦‚å¿µ>åŸºæœ¬æ¦‚å¿µ</h3><ul><li><strong>å·¥ä½œæµç¨‹</strong>ï¼ˆworkflowï¼‰: å·¥ä½œæµç¨‹æ˜¯æ‚¨æ·»åŠ åˆ°ä»“åº“çš„è‡ªåŠ¨åŒ–è¿‡ç¨‹ã€‚</li><li><strong>äº‹ä»¶</strong>ï¼ˆeventï¼‰: äº‹ä»¶æ˜¯è§¦å‘å·¥ä½œæµç¨‹çš„ç‰¹å®šæ´»åŠ¨ã€‚</li><li><strong>ä½œä¸š</strong>ï¼ˆjobï¼‰: ä½œä¸šæ˜¯åœ¨åŒä¸€è¿è¡ŒæœåŠ¡å™¨ä¸Šæ‰§è¡Œçš„ä¸€ç»„æ­¥éª¤ã€‚</li><li><strong>æ­¥éª¤</strong>ï¼ˆstepï¼‰: æ­¥éª¤æ˜¯å¯ä»¥åœ¨ä½œä¸šä¸­è¿è¡Œå‘½ä»¤çš„å•ä¸ªä»»åŠ¡ã€‚</li><li><strong>æ“ä½œ</strong>ï¼ˆactionï¼‰: æ“ä½œæ˜¯ç‹¬ç«‹å‘½ä»¤ï¼Œå®ƒä»¬ç»„åˆåˆ°æ­¥éª¤ä»¥åˆ›å»ºä½œä¸šã€‚</li></ul><h3 id=cié…ç½®>CIé…ç½®</h3><p>åœ¨ Github çš„ Repo é¡µä¸Šæ–¹æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <strong>Actions</strong> èœå•ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºä¸€ä¸ª <code>Workflow</code> ï¼Œä¸‹é¢æ˜¯æˆ‘çš„é…ç½®ï¼š</p><div class=highlight><pre class=chroma><code class=language-Yaml data-lang=Yaml><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>CI</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># Controls when the workflow will run</span><span class=w>
</span><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=c># Triggers the workflow on push or pull request events but only for the main branch</span><span class=w>
</span><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>main]</span><span class=w>
</span><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>main]</span><span class=w>
</span><span class=w>
</span><span class=w>  </span><span class=c># Allows you to run this workflow manually from the Actions tab</span><span class=w>
</span><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c># A workflow run is made up of one or more jobs that can run sequentially or in parallel</span><span class=w>
</span><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=c># This workflow contains a single job called &#34;build&#34;</span><span class=w>
</span><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=c># The type of runner that the job will run on</span><span class=w>
</span><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=c># Steps represent a sequence of tasks that will be executed as part of the job</span><span class=w>
</span><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Git checkout</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span><span class=w>        </span><span class=c># You may pin to the exact commit or the version.</span><span class=w>
</span><span class=w>        </span><span class=c># uses: peaceiris/actions-hugo@2e89aa66d0093e4cd14751b3028fc1a179452c2e</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2.4.13</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.84.4&#34;</span><span class=w>
</span><span class=w>
</span><span class=w>      </span><span class=c># Runs a single command using the runners shell</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span><span class=w>
</span><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span><span class=w>        </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>github.ref == &#39;refs/heads/main&#39;</span><span class=w>
</span><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span><span class=w>          </span><span class=nt>github_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></code></pre></div><p>ä¸Šè¿°é…ç½®çš„æ„æ€æ˜¯æˆ‘ä»¬ä¼šåœ¨æ¯æ¬¡ <code>push</code> ä»£ç è‡³ <code>main</code> åˆ†æ”¯çš„æ—¶ï¼Œåœ¨æœ€æ–°çš„ Ubuntu ç³»ç»Ÿç¯å¢ƒä¸‹ä¾æ¬¡å®Œæˆä»¥ä¸‹æ“ä½œï¼š</p><ol><li><p>å°† <code>main</code> åˆ†æ”¯æœ€æ–°ä»£ç æ£€å‡º</p></li><li><p>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ <code>hugo</code></p></li><li><p>é€šè¿‡ <code>hugo --minify</code> ä»¥æœ€å°åŒ–çš„æ–¹å¼æ‰“åŒ…ç½‘é¡µè‡³ <strong>public</strong> æ–‡ä»¶</p></li><li><p>å°†æ‰“åŒ…åçš„æ–‡ä»¶å¤¹æ¨é€è‡³å½“å‰ä»“åº“çš„ <code>gh-pages</code> åˆ†æ”¯</p></li></ol><p>è¿˜è®°å¾—ä¸Šé¢åœ¨ <em>Pages</em> å›¾ç‰‡ä¸­çš„é…ç½®å§ï¼Œè¿™æ—¶å€™ Github Pages å°±ä¼šä» <code>gh-pages</code> åˆ†æ”¯çš„æ ¹ç›®å½•ç”Ÿæˆæœ€ç»ˆçš„ç½‘é¡µã€‚å¯ä»¥åœ¨ <strong>Actions</strong> é¡µæŸ¥çœ‹ <em>Job</em> çš„æ‰§è¡Œæƒ…å†µã€‚å½“æ‰§è¡Œå®Œæˆåï¼Œä¸€èˆ¬ç­‰å¾… 1 ~ 3 åˆ†é’Ÿï¼Œå°±å¯ä»¥åœ¨è‡ªå·±çš„åšå®¢ç½‘ç«™çœ‹åˆ°æœ€æ–°æäº¤çš„å†…å®¹äº†ã€‚</p><h2 id=åè®°>åè®°</h2><p>é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸€ä¸ªå±äºä½ è‡ªå·±çš„åšå®¢ç½‘ç«™çš„æ­å»ºï¼ˆåˆ«å¿˜äº†å®šåˆ¶ä½ çš„ä¸ªæ€§åŒ–ä¸»é¢˜å“Ÿ~ï¼‰ï¼Œæ¥ä¸‹æ¥å°±éšå¿ƒæ‰€æ¬²åœ°å¼€å§‹ä½ çš„å†…å®¹åˆ›ä½œå§ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/github/>github</a>
<a href=/tags/hugo/>hugo</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper></aside><footer class=site-footer><section class=copyright>&copy;
2020 -
2021 Hugh's Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.5.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#å‰è¨€>å‰è¨€</a><ol><li><a href=#å‰ç½®çŸ¥è¯†>å‰ç½®çŸ¥è¯†</a></li><li><a href=#å¿…å¤‡æ¡ä»¶>å¿…å¤‡æ¡ä»¶</a></li></ol></li><li><a href=#åˆ›å»º-github-pages-ç«™ç‚¹>åˆ›å»º GitHub Pages ç«™ç‚¹</a><ol><li><a href=#åˆ›å»ºä»“åº“>åˆ›å»ºä»“åº“</a></li><li><a href=#æŸ¥çœ‹è®¾ç½®>æŸ¥çœ‹è®¾ç½®</a></li></ol></li><li><a href=#ä½¿ç”¨-hugo-ç”Ÿæˆåšå®¢æ¡†æ¶>ä½¿ç”¨ Hugo ç”Ÿæˆåšå®¢æ¡†æ¶</a><ol><li><a href=#å®‰è£…hugo>å®‰è£…Hugo</a></li><li><a href=#æ–°å»ºç«™ç‚¹>æ–°å»ºç«™ç‚¹</a></li><li><a href=#é€‰æ‹©ä¸»é¢˜>é€‰æ‹©ä¸»é¢˜</a></li><li><a href=#ç¼–è¾‘é…ç½®>ç¼–è¾‘é…ç½®</a></li><li><a href=#åˆ›å»ºæ–‡ç« >åˆ›å»ºæ–‡ç« </a></li><li><a href=#æœ¬åœ°é¢„è§ˆ>æœ¬åœ°é¢„è§ˆ</a></li></ol></li><li><a href=#é€šè¿‡-github-actions-è‡ªåŠ¨éƒ¨ç½²>é€šè¿‡ Github Actions è‡ªåŠ¨éƒ¨ç½²</a><ol><li><a href=#éƒ¨ç½²é—®é¢˜>éƒ¨ç½²é—®é¢˜</a></li><li><a href=#åŸºæœ¬æ¦‚å¿µ>åŸºæœ¬æ¦‚å¿µ</a></li><li><a href=#cié…ç½®>CIé…ç½®</a></li></ol></li><li><a href=#åè®°>åè®°</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script></body></html>